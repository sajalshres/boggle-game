(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,a){},37:function(e,t,a){e.exports=a(51)},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),o=(a(31),a(4)),i=a(18),s=a(15),u=a(16),m=a(33),d=a(36),p=a(6),h={fetchPending:!1,fetchError:null,board:null,words:[],input:"",totalScore:0,timeLimit:180,gameStarted:!1};var E={fetchPending:!1,fetchError:!1,ranks:[]};var f=Object(u.c)({gameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_REQUEST_PENDING":return Object(p.a)({},e,{fetchPending:!0,error:null});case"FETCH_GAME_SUCCESS":return Object(p.a)({},h,{fetchPending:!1,board:t.payload.board,gameStarted:!0});case"API_REQUEST_ERROR":return Object(p.a)({},e,{fetchPending:!1,fetchError:t.payload.error});case"UPDATE_INPUT":return Object(p.a)({},e,{input:t.payload.input.toUpperCase().split(" ").join("")});case"APPEND_INPUT":return Object.assign({},e,{input:e.input+t.payload.letter});case"RESET_INPUT":return Object(p.a)({},e,{input:""});case"UPDATE_WORD":return Object.assign({},e,{words:[].concat(Object(d.a)(e.words),[t.payload.word]),totalScore:e.totalScore+t.payload.word.length});case"UPDATE_SCORE":return Object(p.a)({},e,{totalScore:t.payload.total});case"START_GAME":return Object(p.a)({},h,{gameStarted:!0});case"RESET_GAME":return{state:h};default:return e}},rankReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_REQUEST_PENDING":return Object(p.a)({},e,{fetchPending:!0,fetchError:null});case"API_REQUEST_ERROR":return Object(p.a)({},e,{fetchPending:!1,fetchError:t.payload.error});case"FETCH_RANK_SUCCESS":return Object(p.a)({},e,{fetchPending:!1,ranks:t.payload.ranks});default:return e}}}),b=[m.a],g=Object(u.d)(f,u.a.apply(void 0,b)),v=a(17),S=a(19),y=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"logo"},"Boggle"),r.a.createElement("ul",{className:"nav"},r.a.createElement(i.b,{to:"/"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{icon:S.b,className:"btn"}))),r.a.createElement(i.b,{to:"/game"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{icon:S.a,className:"btn"}))),r.a.createElement(i.b,{to:"/rank"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{icon:S.d,className:"btn"})))))},N=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"title is-1 is-centered"},"Welcome"),r.a.createElement("div",{className:"description"},r.a.createElement("p",{className:"is-justified"},"Boggle is a word game invented by Allan Turoff and originally distributed by Parker Brothers. The game is played using a plastic grid of lettered dice, in which players attempt to find words in sequences of adjacent letters."),r.a.createElement("h2",{className:"title is-2 is-centered"},"Rules"),r.a.createElement("ul",null,r.a.createElement("li",null,"Players have three minutes"),r.a.createElement("li",null,"Player will have to find as many words as thay can in board."),r.a.createElement("li",null,"Letters mush be adjoining in a chain."),r.a.createElement("li",null,"Letter chain may be adjacent horizontally, vertically or diagonally"),r.a.createElement("li",null,"Words must contain at least three letters."),r.a.createElement("li",null,"No letter cube may be used more than once within a single word."),r.a.createElement("li",null,"You can type the words in the input box as well.")),r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Boggle",target:"_blank",className:"link"},"read more...")))},j=a(9),O=a(10),k=a(12),w=a(11),R=a(13),_=function(e){return{type:"API_REQUEST_ERROR",payload:{error:e}}},T=function(){return{type:"RESET_GAME"}};var C=function(){return function(e){return e({type:"API_REQUEST_PENDING"}),fetch("/api/v1/games").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;e({type:"FETCH_RANK_SUCCESS",payload:{ranks:t}})})).catch((function(t){e(_(t))}))}},P=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){(0,a.props.fetchRank)()},a.getRanks=function(){return a.props.ranks.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.user_name),r.a.createElement("td",null,e.total_score),r.a.createElement("td",null,e.words),r.a.createElement("td",null,e.created_at.split("T")[0]))}))},a}return Object(R.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rank"},r.a.createElement("h1",{className:"title is-1 is-centered"},"Rank Page"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"rank-name"},"Name"),r.a.createElement("th",{className:"rank-score"},"Score"),r.a.createElement("th",{className:"rank-words"},"Words"),r.a.createElement("th",{className:"rank-date"},"Date"))),r.a.createElement("tbody",null,this.getRanks())))}}]),t}(n.Component),I={fetchRank:C},A=Object(o.b)((function(e){return{fetchPending:e.rankReducer.fetchPending,fetchError:e.rankReducer.fetchError,ranks:e.rankReducer.ranks.sort((function(e,t){return e.total_score<t.total_score?1:-1}))}}),I)(P),U=a(29),D=a.n(U),M=a(35),G=a(3);var L=function(){return function(e){return e({type:"API_REQUEST_PENDING"}),fetch("/api/v1/games/new").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;e({type:"FETCH_GAME_SUCCESS",payload:{board:t.board}})})).catch((function(t){e(_(t))}))}};var W=function(e){return function(t){return t({type:"API_REQUEST_PENDING"}),fetch("/api/v1/games/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;e&&t({type:"RESET_GAME"})})).catch((function(e){t(_(e))}))}},x=function(e){return r.a.createElement("button",{className:"letter",row:e.row,col:e.col,onClick:e.appendInput?function(){return e.appendInput(e.letter)}:null},e.letter)},Q=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(w.a)(t).call(this,e))).getLetterDivs=function(e){return(e||Array(16).fill(" ").join("")).split("").map((function(t,n){return r.a.createElement(x,{letter:t,key:n,row:n%4,col:Math.floor(n/4),appendInput:e?a.props.appendInput:null})}))},a.getLetterDivs=a.getLetterDivs.bind(Object(G.a)(a)),a}return Object(R.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"board"},this.getLetterDivs(this.props.board))}}]),t}(r.a.Component),V={appendInput:function(e){return{type:"APPEND_INPUT",payload:{letter:e}}}},B=Object(o.b)((function(e){return{board:e.gameReducer.board}}),V)(Q),F=Object(o.b)((function(e){return{words:e.gameReducer.words}}),null)((function(e){var t=e.words;return r.a.createElement("div",{className:"score"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"score-word"},"Word"),r.a.createElement("th",{className:"score-total"},"Score"))),r.a.createElement("tbody",null,t?t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e),r.a.createElement("td",null,e.length))})):null)))})),H=function(){return r.a.createElement("div",{className:"game"},r.a.createElement(B,null),r.a.createElement(F,null))},J=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(w.a)(t).call(this,e))).componentDidMount=function(){a.intervalId=setInterval(a.timer.bind(Object(G.a)(a)),1e3)},a.componentWillUnmount=function(){clearInterval(a.intervalId)},a.timer=function(){a.setState({currentCount:a.state.currentCount-1}),a.state.currentCount<1&&(clearInterval(a.intervalId),a.props.onTimeOut())},a.state={currentCount:a.props.timeLimit},a}return Object(R.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"total"},r.a.createElement("div",{className:"total-timer"},"Timer ",r.a.createElement("span",null,this.state.currentCount)),r.a.createElement("div",{className:"total-score"},"Total ",r.a.createElement("span",null,this.props.total)))}}]),t}(r.a.Component),Y=Object(o.b)((function(e){return{total:e.gameReducer.totalScore,timeLimit:e.gameReducer.timeLimit,gameStarted:e.gameReducer.gameStarted}}),null)(J);var K=function(e){return function(t){return t({type:"API_REQUEST_PENDING"}),fetch("/api/v1/games/validate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({word:e.toLowerCase()})}).then((function(e){return e.json()})).then((function(a){if(a.error)throw a.error;a&&t(function(e){return{type:"UPDATE_WORD",payload:{word:e}}}(e))})).catch((function(e){t(_(e))}))}},q=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(w.a)(t).call(this,e))).handleClick=function(e){e.preventDefault(),a.isInputValid()?a.props.validateWord(a.props.input):console.log("Word is not valid"),a.props.resetInput()},a.indexedBoard=function(e){return e.split("").reduce((function(e,t,a){return e[a+1]=t,e}),{})},a.isInputValid=function(){var e=a.props,t=e.input,n=e.words,r=e.board;if(1===t.length)return r.includes(t);if(t.length<3)return!1;if(n.includes(t))return!1;for(var c=a.indexedBoard(r),l=0;l<=Object.keys(c).length;l++)if(c[l]===t[0]&&a.isAdjacentLetterValid(t,l,c))return!0;return!1},a.isAdjacentLetterValid=function(e,t,n){if(1===e.length)return!0;var r=Object.assign({},n);delete r[t];for(var c=e[1],l=a.getMoves(t),o=0;o<l.length;o++)if(r[l[o]]===c){var i=a.isAdjacentLetterValid(e.slice(1),l[o],r);if(i)return i}return!1},a.getMoves=function(e){var t=function(e){return e%4===0},a=function(e){return e%4===1},n=function(e){return e<=4},r=function(e){return e>=13},c=[];if(e>16)throw new TypeError("Invalid position type or value");return t(e)||c.push(e+1),t(e)||n(e)||c.push(e-3),t(e)||r(e)||c.push(e+5),a(e)||c.push(e-1),a(e)||n(e)||c.push(e-5),a(e)||r(e)||c.push(e+3),n(e)||c.push(e-4),r(e)||c.push(e+4),c},a.handleClick=a.handleClick.bind(Object(G.a)(a)),a}return Object(R.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"submit"},r.a.createElement("input",{className:"submit-input",type:"text",id:"name",name:"name",value:this.props.input,onChange:function(t){return e.props.updateInput(t.target.value)}}),r.a.createElement("button",{className:"submit-button",disabled:!this.props.gameStarted,onClick:this.handleClick},"Submit"))}}]),t}(r.a.Component),z={updateInput:function(e){return{type:"UPDATE_INPUT",payload:{input:e}}},resetInput:function(){return{type:"RESET_INPUT"}},updateScore:function(e){return{type:"UPDATE_SCORE",payload:{total:e}}},validateWord:K},$=Object(o.b)((function(e){return{board:e.gameReducer.board,words:e.gameReducer.words,input:e.gameReducer.input,gameStarted:e.gameReducer.gameStarted,total:e.gameReducer.totalScore}}),z)(q),X=function(e){var t=e.total,a=e.handleChange,n=e.handleSubmit;return r.a.createElement("div",{className:"submit-rank"},r.a.createElement("h2",{className:"submit-rank__title is-3 is-centered"},"Time Out"),r.a.createElement("p",{className:"submit-rank__score is-centered"},"You scored: ",t),r.a.createElement("input",{className:"submit-rank__input",type:"text",id:"username",name:"username",placeholder:"Your name",onChange:function(e){return a(e)}}),r.a.createElement("button",{className:"submit-rank__button",onClick:function(e){return n(e)}},"Submit"))},Z=function(e){return r.a.createElement("div",{className:"total"},r.a.createElement("button",{className:"start-btn",onClick:function(){return e.fetchGame()}},"Start"))},ee=function(e){var t=e.show,a=e.handleClose,n=e.title,c=e.children;return r.a.createElement("div",{className:t?"modal display-block":"modal display-none"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",{class:"modal-title is-3"},n),r.a.createElement("span",{className:"close",onClick:a},r.a.createElement(v.a,{icon:S.c}))),r.a.createElement("div",{className:"modal-body"},c)))},te=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(k.a)(this,Object(w.a)(t).call(this,e))).componentDidMount=function(){a.props.resetGame()},a.showScoreModal=function(){a.setState({scoreModalVisible:!0})},a.hideScoreModal=function(){a.setState({scoreModalVisible:!1}),a.props.resetGame()},a.handleUserInputChange=function(e){a.setState({userName:e.target.value})},a.handleSubmitRank=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({game:{user_name:a.state.userName,total_score:a.props.totalScore,words:a.props.words.join(" ")}});case 3:a.state.userName&&3===Object.keys(a.state.game).length&&a.props.submitGame(Object(p.a)({},a.state.game)),a.hideScoreModal();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClick=function(e){e.preventDefault(),a.props.startGame()},a.onTimeOut=function(){a.showScoreModal()},a.state={scoreModalVisible:!1,userName:"",game:{}},a.showScoreModal=a.showScoreModal.bind(Object(G.a)(a)),a.hideScoreModal=a.hideScoreModal.bind(Object(G.a)(a)),a.handleUserInputChange=a.handleUserInputChange.bind(Object(G.a)(a)),a.handleSubmitRank=a.handleSubmitRank.bind(Object(G.a)(a)),a.handleClick=a.handleClick.bind(Object(G.a)(a)),a.onTimeOut=a.onTimeOut.bind(Object(G.a)(a)),a}return Object(R.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(H,null),this.props.gameStarted?r.a.createElement(Y,{onTimeOut:this.onTimeOut,resetGame:this.props.resetGame}):r.a.createElement(Z,{fetchGame:this.props.fetchGame}),r.a.createElement($,null),r.a.createElement(ee,{show:this.state.scoreModalVisible,handleClose:this.hideScoreModal,title:"Submit Score"},r.a.createElement(X,{total:this.props.totalScore,handleChange:this.handleUserInputChange,handleSubmit:this.handleSubmitRank})))}}]),t}(n.Component),ae={fetchGame:L,startGame:function(){return{type:"START_GAME"}},resetGame:T,submitGame:W},ne=Object(o.b)((function(e){return{fetchPending:e.gameReducer.fetchPending,totalScore:e.gameReducer.totalScore,words:e.gameReducer.words,gameStarted:e.gameReducer.gameStarted}}),ae)(te),re=function(){return r.a.createElement("footer",null,"Made with ",r.a.createElement("span",{className:"love"},"\u2764")," by sajalshres")};var ce=function(){return r.a.createElement(o.a,{store:g},r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement("main",{className:"main"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:N}),r.a.createElement(s.a,{path:"/game",component:ne}),r.a.createElement(s.a,{path:"/rank",component:A}))),r.a.createElement(re,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.be877fa9.chunk.js.map